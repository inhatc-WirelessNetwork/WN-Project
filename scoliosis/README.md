# 척추측만증 모드

## 1️⃣ 척추측만증 측정 모드에서의 목적

척추측만증 측정 모드에서는 추간판 탈출증이나 척추측만증을 대비하는 모드로, 
올바른 자세를 정의하기 위해서는 압력센서의 위치와 그에 따른 압력 분포가 중요합니다.
바른 좌식 자세의 정의는 머리와 목이 옆에서 볼 때 일직선을 이루고, 허리는 허벅지와 수직이거나 의자에 약간
기댄 자세입니다. 이 경우에서 엉덩이 부분은 다리 부분보다 압력이 더 크게 분포 되지만, 좌우간 압력 분포는 같습니다.
저희는 앉아 있는 자세에서 허리를 구부리는 자세와 다리를 꼬고 앉는 자세를 감지 하는 것을 목표로 
이와 같은 임베디드 시스템을 구현하였습니다.
<br><br>

![의자 센서](https://github.com/inhatc-WirelessNetwork/WN-Project/assets/116622873/6b9ad57e-112b-4e5b-ac52-26a04c3d197f)

## 2️⃣ 좌식 자세 판별
(1) 정상 자세
<br>
두 대퇴이두 간의 압력 분포 값에 차가 테스트로 정해둔 val1 값 이하이고, 허리 기립근 쪽에 부착한
두 센서의 압력 분포 값의 합이 테스트로 정해둔 val2 값 이하 두 개의 조건을 만족해야지 
정상 자세로 판별하여 텔레그램으로 메시지가 전송되지 않습니다. 

<br><br>
(2) 다리를 꼬은 자세 
<br>
두 대퇴이두 간의 압력 분포 값에 차가 val1 값 이상이면 텔레그램으로 메시지를 전송합니다.

<br>

(3) 허리를 굽힌 자세 
<br>
허리 기립근 쪽 두 센서의 압력 분포 값의 합이 val2 값 이상이면 텔레그램으로 메시지를 전송합니다.

<br><br>

## 3️⃣ 알고리즘 구현


전체적인 알고리즘은 아래의 흐름도와 같으며 val1, val2 값은 몇 번의 실험과 여러 논문들을 참고로 정하였습니다. 
아두이노를 통해 읽어오는 압력 센서 값은 0부터 1024까지의 아날로그 값을 다시 0부터 4095의 단계로 나누어 정의 하였습니다.
여러번 시현을 하면서, 저희가 받아올 수 있는 압력 센서 값이 최소 0에서 최대 2500임을 확인 하였고, val1 값은 400
val2 값은 800으로 정의 하였습니다.

<br><br>

## 4️⃣ 아두이노 회로도


5V 전압을 사용하며 각 압력센서에 220Ω의 저항을 사용하여 과전류를 방지하였습니다

<br><br>
![아두이노 회로도](https://github.com/inhatc-WirelessNetwork/WN-Project/assets/116622873/aa50195a-3166-44ca-b03d-d637b473b1a3)

<br><br>


참고자료 : 
<br>
http://journal.auric.kr/kiee/XmlViewer/f386480
<br>
https://www.dbpia.co.kr/journal/articleDetail?nodeId=NODE11512962


